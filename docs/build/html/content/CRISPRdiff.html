<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CRISPRdiff &mdash; cctk 0.5.3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CRISPRtree" href="CRISPRtree.html" />
    <link rel="prev" title="Usage" href="../usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> cctk
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CRISPRdiff</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#before-you-run">Before you run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-files">Output files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#crisprdiff-plot">CRISPRdiff plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#colour-scheme-file">Colour scheme file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-usage">Advanced Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#specifying-array-order-in-plot">Specifying array order in plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#automatic-ordering">Automatic ordering</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manual-ordering">Manual ordering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-plot-colours">Controlling plot colours</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controlling-random-assignment-of-colours">Controlling random assignment of colours</a></li>
<li class="toctree-l4"><a class="reference internal" href="#providing-your-own-colour-scheme">Providing your own colour scheme</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consistent-colour-schemes-between-cctk-tools">Consistent colour schemes between <code class="docutils literal notranslate"><span class="pre">cctk</span></code> tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-plot-elements-and-size">Controlling plot elements and size</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#connecting-line-appearance">Connecting-line appearance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plot-size-and-resolution">Plot size and resolution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#limitations-and-considerations">Limitations and considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sequence-blindness">Sequence blindness</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-scaling-for-tall-or-wide-plots">Plot scaling for tall or wide plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#colour-blindness-and-colour-schemes">Colour blindness and colour schemes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CRISPRtree.html">CRISPRtree</a></li>
<li class="toctree-l1"><a class="reference internal" href="blast.html">blast</a></li>
<li class="toctree-l1"><a class="reference internal" href="constrain.html">constrain</a></li>
<li class="toctree-l1"><a class="reference internal" href="evolve.html">evolve</a></li>
<li class="toctree-l1"><a class="reference internal" href="minced.html">minced</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">network</a></li>
<li class="toctree-l1"><a class="reference internal" href="spacerblast.html">spacerblast</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cctk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>CRISPRdiff</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/content/CRISPRdiff.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="crisprdiff">
<h1>CRISPRdiff<a class="headerlink" href="#crisprdiff" title="Permalink to this headline"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> is a visualization tool to explore the relationships between CRISPR arrays. It draws arrays as a sequence of rectangles where spacers that are unique to a single array are represented by small, black rectangles, while spacers present in multiple arrays are represented by larger rectangles with a fill and outline colour combination that is unique to that spacer. Spacers that are present in two arrays drawn next to each other are connected by a line to highlight this relationship. The colour of the line connecting spacers present in two arrays is the same as the fill colour of the spacers.</p>
<p>This representation is intended to highlight where and what the similarities are between a group of arrays, and is therefore best suited to sets of related arrays.</p>
</section>
<section id="before-you-run">
<span id="diff-before-you-run"></span><h2>Before you run<a class="headerlink" href="#before-you-run" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> requirs only an <a class="reference internal" href="minced.html#array-ids"><span class="std std-ref">Array_IDs.txt</span></a> or <a class="reference internal" href="minced.html#array-seqs"><span class="std std-ref">Array_seqs.txt</span></a> file as input. By default, all arrays present in the input file will be drawn. However, if not all of the arrays are related to one another the resulting plot will be harder to interpret (busy plot, harder to assign visually distinct colours to spacers). It is therefore recommended that you run <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> only on smaller batches of your arrays that share spacers.</p>
<p>If you identified CRISPR arrays using <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">minced</span></code> or <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">blast</span></code>, you will have a <a class="reference internal" href="minced.html#array-network"><span class="std std-ref">Array_network.txt</span></a> file among the output of those tools. This file can be visualized using a network visualization tool such as <a class="reference external" href="https://cytoscape.org/download.html">cytoscape</a> and clusters of related arrays can be selected easily. See <a class="reference external" href="content/tutorial.html">network</a> for an example of how this workflow may look.</p>
</section>
<section id="basic-usage">
<span id="diff-basic"></span><h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> requires two command line inputs: an <a class="reference internal" href="minced.html#array-ids"><span class="std std-ref">Array_IDs.txt</span></a> (or <a class="reference internal" href="minced.html#array-seqs"><span class="std std-ref">Array_seqs.txt</span></a>) file using <code class="docutils literal notranslate"><span class="pre">-i</span></code>, and the name of the desired output file using <code class="docutils literal notranslate"><span class="pre">-o</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cctk CRISPRdiff -i &lt;Array_IDs.txt&gt; -o &lt;output plot with desired extension&gt;
</pre></div>
</div>
<p><strong>N.B.</strong> <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> uses matplotlib to perform all plotting functions. You can specify the format of the output file by providing a filename with an extension corresponding to the desired file format. E.g. out_file.png will produce a PNG format file, while out_file.svg will produce an SVG format file. Any file format compatible with <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.savefig.html">matplotlib.pyplot.savefig()</a> should work.</p>
</section>
<section id="output-files">
<h2>Output files<a class="headerlink" href="#output-files" title="Permalink to this headline"></a></h2>
<section id="crisprdiff-plot">
<span id="diff-output"></span><h3>CRISPRdiff plot<a class="headerlink" href="#crisprdiff-plot" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code>’s main output is a plot representing the relationships of a set of arrays. An example of this plot is shown below and the main visual elements are highlighted.</p>
<img alt="../_images/diffplot_eg.png" src="../_images/diffplot_eg.png" />
<p>Each row of rectangles in the plot corresponds to an array. Spacers in each array are plotted in the same order as the appear on the corresponding line in the input file. In addition, 4 features of the plot are highlighted with red circles. Below is a description of these 4 elements:</p>
<ol class="arabic simple">
<li><p>The ID of the array being plotted. This is whatever the first column of the input file contains.</p></li>
<li><p>A spacer that is unique to a single array being plotted. Unique spacers are all plotted as identical small, black rectangles. <strong>N.B.</strong> Spacers are determined to be unique soley based on the arrays selected for plotting. A spacer drawn as a thin, black rectangle may be present in other arrays in your dataset that are not included in the plot.</p></li>
<li><p>A spacer that is found in more than one array. When spacers are drawn as large rectangles with non-black fill colour, the combination of fill and outline colour can be used to identify other instances of the same spacer in other arrays. For small numbers of different spacers found in multiple arrays black outline is used. When the number of spacers found in multiple arrays is large, a combination of the same set of colours is used for fill and outline colour.</p></li>
<li><p>When two arrays that are plotted adjacently share a spacer, a line is drawn connecting the two instances of that spacer to improve the visibility of this relationship. The colour of this line is the same as the fill colour of the spacer.</p></li>
</ol>
<p>The above example plot was produced using the following data generated using <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">evolve</span></code> (Array order has been adjusted to correspond between the plot and below data for clarity, but will not necessarily in practice)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="m">20</span>      <span class="m">16</span> <span class="m">13</span> <span class="m">9</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">1</span>
<span class="m">19</span>      <span class="m">21</span> <span class="m">15</span> <span class="m">12</span> <span class="m">6</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">1</span>
<span class="m">16</span>      <span class="m">18</span> <span class="m">15</span> <span class="m">12</span> <span class="m">6</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">1</span>
<span class="m">7</span>       <span class="m">11</span> <span class="m">6</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">1</span>
<span class="m">15</span>      <span class="m">17</span> <span class="m">8</span> <span class="m">5</span> <span class="m">4</span> <span class="m">1</span>
</pre></div>
</div>
</section>
<section id="colour-scheme-file">
<h3>Colour scheme file<a class="headerlink" href="#colour-scheme-file" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> can optionally output a JSON format file detailing the colours asigned to each spacer. This file can be provided to <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code>, <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRtree</span></code>, and <code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">constrain</span></code> to ensure that spacers are coloured consistently between plots.</p>
<p>See <a class="reference internal" href="#crisprdiff-json"><span class="std std-ref">Consistent colour schemes between cctk tools</span></a> for details.</p>
</section>
</section>
<section id="advanced-usage">
<span id="diff-advanced"></span><h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline"></a></h2>
<section id="specifying-array-order-in-plot">
<h3>Specifying array order in plot<a class="headerlink" href="#specifying-array-order-in-plot" title="Permalink to this headline"></a></h3>
<section id="automatic-ordering">
<h4>Automatic ordering<a class="headerlink" href="#automatic-ordering" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span> <span class="pre">CRISPRdiff</span></code> attempts to find the best order for displaying a set of arrays by maximizing the number of spacers shared between adjacently plotted arrays. for 8 or fewer arrays, all orders will be tried and the best chosen. For 9 or more arrays, a search will be conducted to find a good order.</p>
<p>The number of orders that are tried during the search for a good plotting order can be controlled with <code class="docutils literal notranslate"><span class="pre">--iterations</span></code> (default: 10). More iterations will increase run time, but may result in a better ordering.</p>
</section>
<section id="manual-ordering">
<h4>Manual ordering<a class="headerlink" href="#manual-ordering" title="Permalink to this headline"></a></h4>
<p>You can control the order of arrays in the output plot either precisely or approximately. If you know exactly the order in which you want the arrays to be plotted, you can declare that using <code class="docutils literal notranslate"><span class="pre">--preordered</span></code>. When using <code class="docutils literal notranslate"><span class="pre">--preordered</span></code>, the arrays to be plotted must be listed at the end of the command in the desired order from top to bottom of the output plot. E.g. for the example plot above, array order would be specified as <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">19</span> <span class="pre">16</span> <span class="pre">7</span> <span class="pre">15</span></code>.</p>
<p>If you have an approximate order, but would like CRISPRdiff to check similar orders, use <code class="docutils literal notranslate"><span class="pre">--approx-ordered</span></code>. This may be useful if you are, for example, plotting two sets of unrelated arrays in the same plot and would like the order within each set to be determined for you. As with <code class="docutils literal notranslate"><span class="pre">--preordered</span></code>, you must specify the approximate order you would like by listing the arrays to be plotted (in order) at the end of the command.</p>
</section>
</section>
<section id="controlling-plot-colours">
<h3>Controlling plot colours<a class="headerlink" href="#controlling-plot-colours" title="Permalink to this headline"></a></h3>
<section id="controlling-random-assignment-of-colours">
<h4>Controlling random assignment of colours<a class="headerlink" href="#controlling-random-assignment-of-colours" title="Permalink to this headline"></a></h4>
<p>When using a built-in or user-provided colour scheme, and when assigning random colour combinations to large numbers of spacers, the <code class="docutils literal notranslate"><span class="pre">random</span></code> module for python is used. You can exert some control over the assignment of colours by setting the <code class="docutils literal notranslate"><span class="pre">--seed</span></code> that controls random processes. And example of when this is useful is if you do not need specific spacers to have specific colours, but would like to shuffle colours around to avoid similar colours being close together.</p>
</section>
<section id="providing-your-own-colour-scheme">
<h4>Providing your own colour scheme<a class="headerlink" href="#providing-your-own-colour-scheme" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">cctk</span></code> uses a single built-in colour scheme, described by <a class="reference external" href="https://www.nature.com/articles/nmeth.1618">Wong, 2011</a> that is colour blind-friendly and has high visual contrast between colours. However, you can use custom colours as well using <code class="docutils literal notranslate"><span class="pre">--colour-file</span></code>.</p>
<p>To define a custom colour scheme, simply create a text file containing hex code definitions of the colours, 1 per line. Below is an example of what such a file looks like using the Isfahan1 colour scheme from the <a class="reference external" href="https://github.com/BlakeRMills/MetBrewer/blob/main/R/PaletteCode.R">MetBrewer R package</a></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#4e3910</span>
<span class="c1">#845d29</span>
<span class="c1">#d8c29d</span>
<span class="c1">#4fb6ca</span>
<span class="c1">#178f92</span>
<span class="c1">#175f5d</span>
<span class="c1">#1d1f54</span>
</pre></div>
</div>
<p>That colour scheme, used to visualize the same arrays as the plot in the <a class="reference internal" href="#diff-output"><span class="std std-ref">CRISPRdiff plot</span></a> section, looks like this</p>
<img alt="../_images/diffplot_isfahan.png" src="../_images/diffplot_isfahan.png" />
</section>
<section id="consistent-colour-schemes-between-cctk-tools">
<span id="crisprdiff-json"></span><h4>Consistent colour schemes between <code class="docutils literal notranslate"><span class="pre">cctk</span></code> tools<a class="headerlink" href="#consistent-colour-schemes-between-cctk-tools" title="Permalink to this headline"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">cctk</span></code> tools <code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code>, <code class="docutils literal notranslate"><span class="pre">CRISPRtree</span></code>, and <code class="docutils literal notranslate"><span class="pre">contrain</span></code> have the option to save and load spacer colour assignments to allow consistent colour schemes between different visual representations of the same arrays. This feature can be used for any plots containing at least 1 of the same spacers, even if the set of spacers in each plot is not entirely the same (<strong>N.B</strong> When colours are set this way, any colour combinations assigned to a spacer that is not present in the analysis are still reserved and will not be used for other spacers.)</p>
<p>To save the colour scheme used in a plot by any of these tools, use <code class="docutils literal notranslate"><span class="pre">--colour-scheme-outfile</span></code> and provide the path (and filename) to which the file should be written. A saved colour scheme file can then be provided for use in future plots using <code class="docutils literal notranslate"><span class="pre">--colour-scheme-infile</span></code>.</p>
<p>To illustrate the functionality of these options, three CRISPRdiff plots are shown below. The first is the same set of arrays shown in the plot in the <a class="reference internal" href="#diff-output"><span class="std std-ref">CRISPRdiff plot</span></a> section. The colour scheme used to generate this plot was saved using <code class="docutils literal notranslate"><span class="pre">--colour-scheme-outfile</span></code>. The other two plots represent a subset of those arrays that does not include the two arrays (19 and 16) which contain the cyan and orange spacers on the left of the plot (Also note that the pink spacer present in arrays 19, 16, and 7 is no longer coloured as it is now only present in array 7.) The second plot was generated using <code class="docutils literal notranslate"><span class="pre">--colour-scheme-infile</span></code> resulting in spacer colours that correspond to the first plot. The third plot was generated without providing a colour scheme file and so spacer colour assignments do not correspond to those in the other two plots.</p>
<img alt="../_images/diffplot_colscheme_comparison.png" src="../_images/diffplot_colscheme_comparison.png" />
</section>
</section>
<section id="controlling-plot-elements-and-size">
<h3>Controlling plot elements and size<a class="headerlink" href="#controlling-plot-elements-and-size" title="Permalink to this headline"></a></h3>
<section id="connecting-line-appearance">
<h4>Connecting-line appearance<a class="headerlink" href="#connecting-line-appearance" title="Permalink to this headline"></a></h4>
<p>The appearance of the lines connecting identical spacers in adjacently plotted arrays have two customizable attributes: line-width (<code class="docutils literal notranslate"><span class="pre">--line-width</span></code>) and an optional outline colour (<code class="docutils literal notranslate"><span class="pre">--connection-outline</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">--line-width</span></code> can be used to make connection lines thicker by poviding a number larger than the default of 1.0. Connecting lines can also be removed by setting this value to 0.</p>
<p><code class="docutils literal notranslate"><span class="pre">--connection-outline</span></code> can be used to add a thicker line behind the default line. The added thicker line has the colour of the outline colour assigned to the connected spacer, while the default thin line is coloured by the fill colour assigned to the connected spacers. This can add visual contrast to similarly coloured lines, but results in a busier appearance. The thickness of both of these lines can be controlled by <code class="docutils literal notranslate"><span class="pre">--line-width</span></code>. See below for an example of how these options change the appearance of the plot.</p>
<img alt="../_images/diffplot_line_comparison.png" src="../_images/diffplot_line_comparison.png" />
</section>
<section id="plot-size-and-resolution">
<h4>Plot size and resolution<a class="headerlink" href="#plot-size-and-resolution" title="Permalink to this headline"></a></h4>
<p>The size and resolution of plots produced by <code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code> can be controlled using command line options. These options can be used to generate images of the exact specification required for a figure, or may be necessary to create a sensibly scaled image (see <a class="reference internal" href="#diff-limitations"><span class="std std-ref">Limitations and considerations</span></a>).</p>
<p>Plot height and width can be set using the options <code class="docutils literal notranslate"><span class="pre">--plot-width</span></code> and <code class="docutils literal notranslate"><span class="pre">--plot-height</span></code> and providing the desired size in inches.</p>
<p>pixel density (DPI) can be set using <code class="docutils literal notranslate"><span class="pre">--dpi</span></code>. As connecting lines between identical spacers can be slanted, a resolution of at least 600 DPI is recommended (and is the default value), while 1200 should result in lines with no visible pixels. The images on this page were generated at 600 DPI. <strong>N.B.</strong> DPI settings are only relevant for images generated by <code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code> in raster formats such as PNG. SVG outputs are unaffected by DPI settings provided to <code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--font-size</span></code> can be used to control the size of text in the plot (default value is 10pt).</p>
</section>
</section>
</section>
<section id="limitations-and-considerations">
<span id="diff-limitations"></span><h2>Limitations and considerations<a class="headerlink" href="#limitations-and-considerations" title="Permalink to this headline"></a></h2>
<section id="sequence-blindness">
<h3>Sequence blindness<a class="headerlink" href="#sequence-blindness" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code> pays no attention to similarities in the sequences of spacers being plotted. All spacers are treated as characters that are either identical or different. If you would like spacers to be assigned the same colour based on some level of similarity (e.g. if they differ at fewer than 2 bases), then you need to adjust your input files accordingly. A single base difference in the sequence of two spacers will result in <code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code> considering those two spacers as distinct.</p>
</section>
<section id="plot-scaling-for-tall-or-wide-plots">
<h3>Plot scaling for tall or wide plots<a class="headerlink" href="#plot-scaling-for-tall-or-wide-plots" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CRISPRdiff</span></code> was designed with the creation of figures of defined dimensions and resolution in mind. The produced plot is therefore scaled to fill the provided dimensions. The default plot size works well for a small number (5-8) of arrays of moderate length (5-20 spacers). However, for large number of arrays or for very long arrays, plot elements may appear squashed or small as an attempt is made to keep spacer shape dimensions roughly proportional. If you are plotting a large number of arrays or very long arrays, you will need to adjust the plot dimensions accordingly or output an SVG plot and scale plot elements in a graphical editor software.</p>
</section>
<section id="colour-blindness-and-colour-schemes">
<h3>Colour blindness and colour schemes<a class="headerlink" href="#colour-blindness-and-colour-schemes" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Color_blindness#Epidemiology">Colour blindness affects a considerable proportion of people worldwide</a> and is therefore an important consideration when designing visualizations of data. CCTK tools use a colour scheme <a class="reference external" href="https://www.nature.com/articles/nmeth.1618">presented by Bang Wong</a> which provides good visual contrast and is accessible to colour blind individuals.</p>
<p>However, colour blind-friendly palettes are, by their nature, limited. The default CCTK colour scheme can colour up to 64 distinct spacers. For larger numbers of spacers, CCTK will automatically generate random colour pairs to use, but these randomly generated colours are unlikely to be colour blind-friendly.</p>
<p>Some good sources of alternative colour palettes that can be easily provided to CCTK tools are:</p>
<p><a class="reference external" href="https://colorbrewer2.org/">colorbrewer</a></p>
<blockquote>
<div><ul class="simple">
<li><p>Small number of colour blind-friendly options</p></li>
<li><p>Hex codes provided</p></li>
</ul>
</div></blockquote>
<p><a class="reference external" href="https://github.com/BlakeRMills/MetBrewer">Metbrewer</a></p>
<blockquote>
<div><ul class="simple">
<li><p>Visually appealing colour palettes based on works of art</p></li>
<li><p>Colour blind-friendly options</p></li>
</ul>
</div></blockquote>
<p><a class="reference external" href="https://davidmathlogic.com/colorblind/">Davidmathlogic blog</a></p>
<blockquote>
<div><ul class="simple">
<li><p>Small selection of colour blind-friendly palettes</p></li>
<li><p>Useful utility for testing colour combinations and seeing a representation of their appearance with different kinds of colour blindness</p></li>
</ul>
</div></blockquote>
<p><a class="reference external" href="http://medialab.github.io/iwanthue/">iwanthue</a></p>
<blockquote>
<div><ul class="simple">
<li><p>“Colorblind friendly” Color space option</p></li>
<li><p>analysis of extent to which each produced colour is visually distinct with different colour blindness types</p></li>
<li><p>One hex code colour per line format that can be copied into a file and given to CCTK (“Hex list for CSS”)</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CRISPRtree.html" class="btn btn-neutral float-right" title="CRISPRtree" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alan Collins.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>